<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    

    <title>
      git入门篇 | Hexo 
    </title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    
      <meta name="author" content="Vtamins Lee">
    
    

    <meta name="description" content="目前我们的项目已经使用码云管理，以后实验室的项目基本都会使用码云，所以git的使用使每个成员都必须要掌握的。">
<meta name="keywords" content="git">
<meta property="og:type" content="article">
<meta property="og:title" content="git入门篇 | Hexo">
<meta property="og:url" content="http://yoursite.com/2017/08/20/git入门篇/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="目前我们的项目已经使用码云管理，以后实验室的项目基本都会使用码云，所以git的使用使每个成员都必须要掌握的。">
<meta property="og:image" content="http://static.open-open.com/lib/uploadImg/20120201/20120201121203_850.png">
<meta property="og:image" content="http://static.open-open.com/lib/uploadImg/20120201/20120201121204_39.png">
<meta property="og:image" content="http://static.open-open.com/lib/uploadImg/20120201/20120201121205_151.png">
<meta property="og:image" content="http://static.open-open.com/lib/uploadImg/20120201/20120201121432_845.png">
<meta property="og:updated_time" content="2017-08-20T11:42:40.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="git入门篇 | Hexo">
<meta name="twitter:description" content="目前我们的项目已经使用码云管理，以后实验室的项目基本都会使用码云，所以git的使用使每个成员都必须要掌握的。">
<meta name="twitter:image" content="http://static.open-open.com/lib/uploadImg/20120201/20120201121203_850.png">
    
    
    
      <link rel="icon" type="image/x-icon" href="/timo/favicon.png">
    
    <link rel="stylesheet" href="/css/uno.css">
    <link rel="stylesheet" href="/css/highlight.css">
    <link rel="stylesheet" href="/css/archive.css">
    <link rel="stylesheet" href="/css/china-social-icon.css">

</head>
<body>

    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>

    

<header class="panel-cover panel-cover--collapsed">


  <div class="panel-main">

  
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        

        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage">Hexo</a></h1>
        <hr class="panel-cover__divider" />

        

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">

              
                
                <li class="navigation__item"><a href="/timo/#blog" title="" class="blog-button">首页</a></li>
              
                
                <li class="navigation__item"><a href="/timo/about" title="" class="">关于</a></li>
              
                
                <li class="navigation__item"><a href="/timo/archive" title="" class="">归档</a></li>
              

            </ul>
          </nav>

          <!-- ----------------------------
To add a new social icon simply duplicate one of the list items from below
and change the class in the <i> tag to match the desired social network
and then add your link to the <a>. Here is a full list of social network
classes that you can use:

    icon-social-500px
    icon-social-behance
    icon-social-delicious
    icon-social-designer-news
    icon-social-deviant-art
    icon-social-digg
    icon-social-dribbble
    icon-social-facebook
    icon-social-flickr
    icon-social-forrst
    icon-social-foursquare
    icon-social-github
    icon-social-google-plus
    icon-social-hi5
    icon-social-instagram
    icon-social-lastfm
    icon-social-linkedin
    icon-social-medium
    icon-social-myspace
    icon-social-path
    icon-social-pinterest
    icon-social-rdio
    icon-social-reddit
    icon-social-skype
    icon-social-spotify
    icon-social-stack-overflow
    icon-social-steam
    icon-social-stumbleupon
    icon-social-treehouse
    icon-social-tumblr
    icon-social-twitter
    icon-social-vimeo
    icon-social-xbox
    icon-social-yelp
    icon-social-youtube
    icon-social-zerply
    icon-mail

-------------------------------->

<!-- add social info here -->



        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>


    <div class="content-wrapper">
        <div class="content-wrapper__inner entry">
            

<article class="post-container post-container--single">

  <header class="post-header">
    
    <h1 class="post-title">git入门篇</h1>

    

    <div class="post-meta">
      <time datetime="2017-08-20" class="post-meta__date date">2017-08-20</time> 

      <span class="post-meta__tags tags">

          
            <font class="categories">
            &#8226; 分类:
            <a class="categories-link" href="/categories/技术/">技术</a>
            </font>
          

          
             &#8226; 标签:
            <font class="tags">
              <a class="tags-link" href="/tags/git/">git</a>
            </font>
          

      </span>
    </div>
    
    

  </header>

  <section id="post-content" class="article-content post">
    <p>目前我们的项目已经使用码云管理，以后实验室的项目基本都会使用码云，所以git的使用使每个成员都必须要掌握的。</p>
<a id="more"></a>
<h2 id="一、git入门篇（原理与介绍）"><a href="#一、git入门篇（原理与介绍）" class="headerlink" title="一、git入门篇（原理与介绍）"></a>一、git入门篇（原理与介绍）</h2><p>包含的内容：</p>
<ul>
<li>git介绍</li>
<li>git config命令</li>
<li>git的文件状态</li>
</ul>
<h4 id="1-什么是版本控制？"><a href="#1-什么是版本控制？" class="headerlink" title="1. 什么是版本控制？"></a>1. 什么是版本控制？</h4><p>版本控制是一种记录若干文件内容变化，以便将来查阅特定版本修订情况的系统。</p>
<p>用版本控制系统 （VCS）是个明智的选择。有了它你就可以将某个文件回溯到之前的状态，甚至将整个项目都回退到过去某个时间点的状态。你可以比较文件的变化细节，查出最 后是谁修改了哪个地方，从而导致出现怪异问题，又是谁在何时报告了某个功能缺陷等等。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">使用版本控制系统通常还意味着，就算你乱来一气把整个项目中的文件改</div><div class="line">的改删的删，你也照样可以轻松恢复到原先的样子。但额外增加的工作量却微乎其微。</div></pre></td></tr></table></figure>
<hr>
<h4 id="2-版本控制的种类"><a href="#2-版本控制的种类" class="headerlink" title="2. 版本控制的种类"></a>2. 版本控制的种类</h4><ul>
<li><p>本地版本控制系统  RCS</p>
</li>
<li><p>集中化的版本控制系统 CVCS </p>
</li>
<li><p>分布式版本控制系统 DVCS </p>
</li>
</ul>
<hr>
<h4 id="3-git简史"><a href="#3-git简史" class="headerlink" title="3. git简史"></a>3. git简史</h4><p>Git 诞生于一个极富纷争大举创新的年代。Linux 内核开源项目有着为数众广的参与者。<br>到 2002 年，整个项目组开始启用分布式版本控制系统 BitKeeper 来管理和维护代码。<br>2005 年，开发 BitKeeper 的商业公司同 Linux 内核开源社区的合作关系结束，他们收回了免费使用 BitKeeper 的权力。这就迫使 Linux 开源社区（特别是 Linux 的缔造者 Linus Torvalds ）不得不吸取教训，只有开发一套属于自己的版本控制系统才不至于重蹈覆辙。他们对新的系统制订了若干目标：</p>
<hr>
<h4 id="4-git的特点"><a href="#4-git的特点" class="headerlink" title="4.git的特点"></a>4.git的特点</h4><ul>
<li>速度 </li>
<li>简单的设计</li>
<li>对非线性开发模式的强力支持（允许上千个并行开发的分支）</li>
<li>完全分布式</li>
<li>有能力高效管理类似 Linux 内核一样的超大规模项目（速度和数据量）</li>
</ul>
<hr>
<h4 id="5-git基础"><a href="#5-git基础" class="headerlink" title="5. git基础"></a>5. git基础</h4><h4 id="直接记录快照"><a href="#直接记录快照" class="headerlink" title="直接记录快照"></a>直接记录快照</h4><p>Git 和其他版本控制系统的主要差别在于，Git 只关心文件数据的整体是否发生变化，而大多数其他系统则只关心文件内容的具体差异。<br><img src="http://static.open-open.com/lib/uploadImg/20120201/20120201121203_850.png" alt="image"><br>Git 并不保存这些前后变化的差异数据。实际上，Git 更像是把变化的文件作快照后，记录在一个微型的文件系统中。每次提交更新时，它会纵览一遍所有文件的指纹信息并对文件作一快照，然后保存一个指向这次快照 的索引。为提高性能，若文件没有变化，Git 不会再次保存，而只对上次保存的快照作一链接。<br><img src="http://static.open-open.com/lib/uploadImg/20120201/20120201121204_39.png" alt="image"></p>
<hr>
<h4 id="近乎所有操作都是本地执行"><a href="#近乎所有操作都是本地执行" class="headerlink" title="近乎所有操作都是本地执行"></a>近乎所有操作都是本地执行</h4><p>Git 在本地磁盘上就保存着所有当前项目的历史更新，所以处理起来速度飞快。</p>
<hr>
<h4 id="时刻保持数据完整性"><a href="#时刻保持数据完整性" class="headerlink" title="时刻保持数据完整性"></a>时刻保持数据完整性</h4><p>所有数据都要进行内容的校验和（checksum）计算，并将此结果作为数据的唯一标识和索引。</p>
<p>Git 使用 SHA-1 算法计算数据的校验和，通过对文件的内容或目录的结构计算出一个 SHA-1 哈希值，作为指纹字符串。</p>
<hr>
<h4 id="6-git文件目录的三种状态"><a href="#6-git文件目录的三种状态" class="headerlink" title="6. git文件目录的三种状态"></a>6. git文件目录的三种状态</h4><p>在 Git 内都只有三种状态：已提交（committed），已修改（modified）和已暂存（staged）。</p>
<p><img src="http://static.open-open.com/lib/uploadImg/20120201/20120201121205_151.png" alt="image"></p>
<p>工作目录，暂存区域，以及本地仓库</p>
<p>每个项目都有一个 Git 目录 就是其中 .git 的目录，如果git clone –bare 的话，新建的目录本身就是 Git 目录。</p>
<p>从项目中取出某个版本的所有文件和目录，用以开始后续工作的叫做工作目录。</p>
<p>暂存区域一般都放在 Git 目录中。有时候人们会把这个文件叫做索引文件，不过标准说法还是叫暂存区域。</p>
<hr>
<h4 id="7-Git-工作流程"><a href="#7-Git-工作流程" class="headerlink" title="7.  Git 工作流程"></a>7.  Git 工作流程</h4><ol>
<li>在工作目录中修改某些文件。 </li>
<li>对修改后的文件进行快照，然后保存到暂存区域。 </li>
<li>提交更新，将保存在暂存区域的文件快照永久转储到 Git 目录中。</li>
</ol>
<hr>
<h4 id="8-git安装"><a href="#8-git安装" class="headerlink" title="8. git安装"></a>8. git安装</h4><p>略</p>
<hr>
<h4 id="9-git配置"><a href="#9-git配置" class="headerlink" title="9. git配置"></a>9. git配置</h4><p>首次使用需要配置用户<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git config --global user.name &quot;test&quot;</div><div class="line">git config --global user.email test@example.com</div></pre></td></tr></table></figure></p>
<p>查看配置信息<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">git config --list</div><div class="line">user.name=test</div><div class="line">user.email=test@example.com</div><div class="line">color.status=auto</div><div class="line">color.branch=auto</div><div class="line">color.interactive=auto</div><div class="line">color.diff=auto</div><div class="line">...</div></pre></td></tr></table></figure></p>
<h2 id="—"><a href="#—" class="headerlink" title="—"></a>—</h2><h2 id="二、git基础"><a href="#二、git基础" class="headerlink" title="二、git基础"></a>二、git基础</h2><p>包含的内容：</p>
<ul>
<li>git init</li>
<li>git clone</li>
<li>git add</li>
<li>git commit</li>
<li>git push</li>
<li>git status</li>
<li>git remote</li>
<li>.gitignore</li>
<li>​<h4 id="1-git目录初始化"><a href="#1-git目录初始化" class="headerlink" title="1. git目录初始化"></a>1. git目录初始化</h4>要对现有的某个项目开始用 Git 管理，只需到此项目所在的目录<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git init</div></pre></td></tr></table></figure>
</li>
</ul>
<p>初始化后，在当前目录下会出现一个名为 .git 的目录，所有 Git 需要的数据和资源都存放在这个目录中。</p>
<hr>
<h4 id="2-将文件纳入版本控制"><a href="#2-将文件纳入版本控制" class="headerlink" title="2. 将文件纳入版本控制"></a>2. 将文件纳入版本控制</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git add *.C</div><div class="line">git add readme.txt</div><div class="line">git add src</div></pre></td></tr></table></figure>
<hr>
<h4 id="3-git克隆远程目录"><a href="#3-git克隆远程目录" class="headerlink" title="3. git克隆远程目录"></a>3. git克隆远程目录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git clone https://git.oschina.net/Vtamins/TBigData.git</div><div class="line">git clone https://git.oschina.net/Vtamins/TBigData.git TBigData</div></pre></td></tr></table></figure>
<p>唯一的差别就是，现在新建的目录成了 TBigData，其他的都和上边的一样。</p>
<hr>
<h4 id="4-git文件状态详解"><a href="#4-git文件状态详解" class="headerlink" title="4. git文件状态详解"></a>4. git文件状态详解</h4><p><img src="http://static.open-open.com/lib/uploadImg/20120201/20120201121432_845.png" alt="image"></p>
<p>在编辑过某些文件之后，Git 将这些文件标为已修改。我们逐步把这些修改过的文件放到暂存区域，直到最后一次性提交所有这些暂存起来的文件，如此重复。</p>
<hr>
<h4 id="检查当前文件状态"><a href="#检查当前文件状态" class="headerlink" title="检查当前文件状态"></a>检查当前文件状态</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git status</div><div class="line"># On branch master</div><div class="line">nothing to commit (working directory clean)</div></pre></td></tr></table></figure>
<p>生成一个新文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">$ vim README</div><div class="line">$ git status</div><div class="line"># On branch master</div><div class="line"># Untracked files:</div><div class="line">#   (use &quot;git add </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     ...&quot; to include in what will be committed)</div><div class="line">#</div><div class="line">#	README</div><div class="line">nothing added to commit but untracked files present (use &quot;git add&quot; to track)</div></pre></td></tr></table></figure>
<p>跟踪新文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git add README</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">$ git status</div><div class="line"># On branch master</div><div class="line"># Changes to be committed:</div><div class="line">#   (use &quot;git reset HEAD </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     ...&quot; to unstage)</div><div class="line">#</div><div class="line">#	new file:   README</div><div class="line">#</div></pre></td></tr></table></figure>
<p>git add 就是把目标文件快照放入暂存区域，也就是 add file into staged area，同时未曾跟踪过的文件标记为需要跟踪。</p>
<hr>
<p>修改已存在文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">$ vim  benchmarks.rb</div><div class="line">$ git status</div><div class="line"># On branch master</div><div class="line"># Changes to be committed:</div><div class="line">#   (use &quot;git reset HEAD </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     ...&quot; to unstage)</div><div class="line">#</div><div class="line">#	new file:   README</div><div class="line">#</div><div class="line"># Changed but not updated:</div><div class="line">#   (use &quot;git add </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">      </div><div class="line">      </div><div class="line">      </div><div class="line">      </div><div class="line">      ...&quot; to update what will be committed)</div><div class="line">#</div><div class="line">#	modified:   benchmarks.rb</div><div class="line">#</div></pre></td></tr></table></figure></p>
<p>文件 benchmarks.rb 出现在 “Changed but not updated”</p>
<p>说明已跟踪文件的内容发生了变化，但还没有放到暂存区。要暂存这次更新，需要运行git add 命令</p>
<p>这是个多功能命令，根据目标文件的状态不同，此命令的效果也不同：可以用它开始跟踪新文件，或者把已跟踪的文件放到暂存区，还能用于合并时把有冲突的文件标记为已解决状态等</p>
<hr>
<p>把已跟踪的文件放到暂存区<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">$ git add benchmarks.rb</div><div class="line">$ git status</div><div class="line"># On branch master</div><div class="line"># Changes to be committed:</div><div class="line">#   (use &quot;git reset HEAD </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     ...&quot; to unstage)</div><div class="line">#</div><div class="line">#	new file:   README</div><div class="line">#	modified:   benchmarks.rb</div><div class="line">#</div></pre></td></tr></table></figure></p>
<hr>
<h4 id="注意！（前方高能）"><a href="#注意！（前方高能）" class="headerlink" title="注意！（前方高能）"></a>注意！（前方高能）</h4><p>再次修改benchmarks.rb</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">$ vim benchmarks.rb </div><div class="line">$ git status</div><div class="line"># On branch master</div><div class="line"># Changes to be committed:</div><div class="line">#   (use &quot;git reset HEAD </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     ...&quot; to unstage)</div><div class="line">#</div><div class="line">#	new file:   README</div><div class="line">#	modified:   benchmarks.rb</div><div class="line">#</div><div class="line"># Changed but not updated:</div><div class="line">#   (use &quot;git add </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">      </div><div class="line">      </div><div class="line">      </div><div class="line">      </div><div class="line">      ...&quot; to update what will be committed)</div><div class="line">#</div><div class="line">#	modified:   benchmarks.rb</div><div class="line">#</div></pre></td></tr></table></figure>
<p>benchmarks.rb 文件出现了两次！</p>
<p>一次算未暂存，一次算已暂存</p>
<p>实际上 Git 只不过暂存了你运行 git add 命令时的版本，如果现在提交，那么提交的是二次修改前的版本，而非当前工作目录中的版本。</p>
<hr>
<p>再次 git add</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">$ git add benchmarks.rb</div><div class="line">$ git status</div><div class="line"># On branch master</div><div class="line"># Changes to be committed:</div><div class="line">#   (use &quot;git reset HEAD </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     ...&quot; to unstage)</div><div class="line">#</div><div class="line">#	new file:   README</div><div class="line">#	modified:   benchmarks.rb</div><div class="line">#</div></pre></td></tr></table></figure>
<hr>
<h4 id="5-忽略文件"><a href="#5-忽略文件" class="headerlink" title="5. 忽略文件"></a>5. 忽略文件</h4><p>.gitignore 文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ cat .gitignore</div><div class="line">*.[oa]</div><div class="line">*~</div></pre></td></tr></table></figure></p>
<p>第一行告诉 Git 忽略所有以 .o 或 .a 结尾的文件。</p>
<p>第二行告诉 Git 忽略所有以波浪符（~）结尾的文件</p>
<ul>
<li>＃ 开头的行都会被 Git 忽略。</li>
<li>使用标准的 glob 模式匹配。</li>
<li>匹配模式最后跟反斜杠（/）说明要忽略的是目录。 </li>
<li>要忽略指定模式以外的文件或目录，可以在模式前加上惊叹号（!）取反。</li>
<li>glob 模式是指 shell 所使用的简化了的正则表达式</li>
<li>星号（*）匹配零个或多个任意字符</li>
<li>[abc] 匹配任何一个列在方括号中的字符（这个例子要么匹配一个 a，要么匹配一个 b，要么匹配一个 c）</li>
<li>问号（?）只匹配一个任意字符</li>
<li>如果在方括号中使用短划线分隔两个字符，表示所有在这两个字符范围内的都可以匹配（比如[0-9] 表示匹配所有 0 到 9 的数字）</li>
</ul>
<p>eg：例子<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"># 此为注释 – 将被 Git 忽略</div><div class="line">*.a       # 忽略所有 .a 结尾的文件</div><div class="line">!lib.a    # 但 lib.a 除外</div><div class="line">/TODO     # 仅仅忽略项目根目录下的 TODO 文件，不包括 subdir/TODO</div><div class="line">build/    # 忽略 build/ 目录下的所有文件</div><div class="line">doc/*.txt # 会忽略 doc/notes.txt 但不包括 doc/server/arch.txt</div></pre></td></tr></table></figure></p>
<hr>
<h4 id="6-查看修改的内容"><a href="#6-查看修改的内容" class="headerlink" title="6.查看修改的内容"></a>6.查看修改的内容</h4><p>直接输入 git diff<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">$ git diff</div><div class="line">diff --git a/benchmarks.rb b/benchmarks.rb</div><div class="line">index 3cb747f..da65585 100644</div><div class="line">--- a/benchmarks.rb</div><div class="line">+++ b/benchmarks.rb</div><div class="line">@@ -36,6 +36,10 @@ def main</div><div class="line">           @commit.parents[0].parents[0].parents[0]</div><div class="line">         end</div><div class="line"></div><div class="line">+        run_code(x, &apos;commits 1&apos;) do</div><div class="line">+          git.commits.size</div><div class="line">+        end</div><div class="line">+</div><div class="line">         run_code(x, &apos;commits 2&apos;) do</div><div class="line">           log = git.commits(&apos;master&apos;, 15)</div><div class="line">           log.size</div></pre></td></tr></table></figure></p>
<p>此命令比较的是工作目录中当前文件和暂存区域快照之间的差异</p>
<p>若要看已经暂存起来的文件和上次提交时的快照之间的差异，可以用 git diff –cached</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">$ git diff --cached</div><div class="line">diff --git a/README b/README</div><div class="line">new file mode 100644</div><div class="line">index 0000000..03902a1</div><div class="line">--- /dev/null</div><div class="line">+++ b/README2</div><div class="line">@@ -0,0 +1,5 @@</div><div class="line">+grit</div><div class="line">+ by Tom Preston-Werner, Chris Wanstrath</div><div class="line">+ http://github.com/mojombo/grit</div><div class="line">+</div><div class="line">+Grit is a Ruby library for extracting information from a Git repository</div></pre></td></tr></table></figure>
<hr>
<h4 id="7-提交更新"><a href="#7-提交更新" class="headerlink" title="7. 提交更新"></a>7. 提交更新</h4><p>git commit </p>
<p>请一定要确认还有什么修改过的或新建的文件还没有 git add 过，否则提交的时候不会记录这些还没暂存起来的变化。所以，每次准备提交前，先用git status 看下，是不是都已暂存起来了，然后再运行提交命令 git commit</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">$ git commit</div><div class="line"></div><div class="line"># Please enter the commit message for your changes. Lines starting</div><div class="line"># with &apos;#&apos; will be ignored, and an empty message aborts the commit.</div><div class="line"># On branch master</div><div class="line"># Changes to be committed:</div><div class="line">#   (use &quot;git reset HEAD </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     ...&quot; to unstage)</div><div class="line">#</div><div class="line">#       new file:   README</div><div class="line">#       modified:   benchmarks.rb</div><div class="line">~</div><div class="line">~</div><div class="line">~</div><div class="line">&quot;.git/COMMIT_EDITMSG&quot; 10L, 283C</div></pre></td></tr></table></figure>
<p>这种方式会启动文本编辑器以便输入本次提交的说明。（默认会启用 shell 的环境变量 $EDITOR 所指定的软件，一般都是 vim 或 emacs。</p>
<p>或者使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git commit -m &quot;message&quot;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ git commit -m &quot;Story 182: Fix benchmarks for speed&quot;</div><div class="line">[master]: created 463dc4f: &quot;Fix benchmarks for speed&quot;</div><div class="line"> 2 files changed, 3 insertions(+), 0 deletions(-)</div><div class="line"> create mode 100644 README</div></pre></td></tr></table></figure>
<hr>
<h4 id="8-不暂存直接提交"><a href="#8-不暂存直接提交" class="headerlink" title="8. 不暂存直接提交"></a>8. 不暂存直接提交</h4><p> git commit -a -m “message”<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"> $ git status</div><div class="line"># On branch master</div><div class="line">#</div><div class="line"># Changed but not updated:</div><div class="line">#</div><div class="line">#	modified:   benchmarks.rb</div><div class="line">#</div><div class="line">$ git commit -a -m &apos;added new benchmarks&apos;</div><div class="line">[master 83e38c7] added new benchmarks</div><div class="line"> 1 files changed, 5 insertions(+), 0 deletions(-)</div></pre></td></tr></table></figure></p>
<hr>
<h4 id="9-移除文件"><a href="#9-移除文件" class="headerlink" title="9. 移除文件"></a>9. 移除文件</h4><p> 要从 Git 中移除某个文件，就必须要从已跟踪文件清单中移除（确切地说，是从暂存区域移除），然后提交。</p>
<p> <strong>注意(前方高能)</strong><br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git rm</div></pre></td></tr></table></figure></p>
<p> 如果只是简单地从工作目录中手工删除文件，运行 git status 时就会在 “Changed but not updated” 部分（也就是<em>未暂存</em>清单）看到：<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">$  rm grit.gemspec</div><div class="line">$ git status</div><div class="line"># On branch master</div><div class="line">#</div><div class="line"># Changed but not updated:</div><div class="line">#   (use &quot;git add/rm </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     ...&quot; to update what will be committed)</div><div class="line">#</div><div class="line">#       deleted:    grit.gemspec</div><div class="line">#</div></pre></td></tr></table></figure></p>
<p>然后再运行 git rm 记录此次移除文件的操作：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">$ git rm grit.gemspec</div><div class="line">rm &apos;grit.gemspec&apos;</div><div class="line">$ git status</div><div class="line"># On branch master</div><div class="line">#</div><div class="line"># Changes to be committed:</div><div class="line">#   (use &quot;git reset HEAD </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     ...&quot; to unstage)</div><div class="line">#</div><div class="line">#       deleted:    grit.gemspec</div><div class="line">#</div></pre></td></tr></table></figure></p>
<p>如果想从 git目录删除但是本地保留</p>
<p>移除跟踪但不删除文件，以便稍后在 .gitignore 文件中补上<br>​    </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ git rm --cached readme.txt</div><div class="line"></div><div class="line"></div><div class="line">$ git rm log/\*.log</div><div class="line">#此命令删除所有log/ 目录下扩展名为 .log 的文件。</div></pre></td></tr></table></figure>
<hr>
<h4 id="9-移动文件"><a href="#9-移动文件" class="headerlink" title="9. 移动文件"></a>9. 移动文件</h4><p>Git 并不跟踪文件移动操作。如果在 Git 中重命名了某个文件，仓库中存储的元数据并不会体现出这是一次改名操作。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">$ git mv README.txt README</div><div class="line">$ git status</div><div class="line"># On branch master</div><div class="line"># Your branch is ahead of &apos;origin/master&apos; by 1 commit.</div><div class="line">#</div><div class="line"># Changes to be committed:</div><div class="line">#   (use &quot;git reset HEAD </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     ...&quot; to unstage)</div><div class="line">#</div><div class="line">#       renamed:    README.txt -&gt; README</div><div class="line">#</div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">等同于</div><div class="line">$ mv README.txt README</div><div class="line">$ git rm README.txt</div><div class="line">$ git add README</div></pre></td></tr></table></figure>
<hr>
<h4 id="10-查看提交历史"><a href="#10-查看提交历史" class="headerlink" title="10. 查看提交历史"></a>10. 查看提交历史</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">$ git log</div><div class="line">commit ca82a6dff817ec66f44342007202690a93763949</div><div class="line">Author: Scott Chacon </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">Date:   Mon Mar 17 21:52:11 2008 -0700</div><div class="line"></div><div class="line">    changed the version number</div><div class="line"></div><div class="line">commit 085bb3bcb608e1e8451d4b2432f8ecbe6306e7e7</div><div class="line">Author: Scott Chacon </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">      </div><div class="line">      </div><div class="line">      </div><div class="line">      </div><div class="line">      </div><div class="line">Date:   Sat Mar 15 16:40:33 2008 -0700</div><div class="line"></div><div class="line">    removed unnecessary test code</div><div class="line"></div><div class="line">commit a11bef06a3f659402fe7563abf99ad00de2209e6</div><div class="line">Author: Scott Chacon </div><div class="line">      </div><div class="line">      </div><div class="line">      </div><div class="line">      </div><div class="line">      </div><div class="line">       </div><div class="line">       </div><div class="line">       </div><div class="line">       </div><div class="line">       </div><div class="line">Date:   Sat Mar 15 10:31:28 2008 -0700</div><div class="line"></div><div class="line">    first commit</div></pre></td></tr></table></figure>
<p>高级语法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ git log --pretty=format:&quot;%h - %an, %ar : %s&quot;</div><div class="line">ca82a6d - Scott Chacon, 11 months ago : changed the version number</div><div class="line">085bb3b - Scott Chacon, 11 months ago : removed unnecessary test code</div><div class="line">a11bef0 - Scott Chacon, 11 months ago : first commit</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">选项	 说明</div><div class="line">%H	提交对象（commit）的完整哈希字串</div><div class="line">%h	提交对象的简短哈希字串</div><div class="line">%T	树对象（tree）的完整哈希字串</div><div class="line">%t	树对象的简短哈希字串</div><div class="line">%P	父对象（parent）的完整哈希字串</div><div class="line">%p	父对象的简短哈希字串</div><div class="line">%an	作者（author）的名字</div><div class="line">%ae	作者的电子邮件地址</div><div class="line">%ad	作者修订日期（可以用 -date= 选项定制格式）</div><div class="line">%ar	作者修订日期，按多久以前的方式显示</div><div class="line">%cn	提交者(committer)的名字</div><div class="line">%ce	提交者的电子邮件地址</div><div class="line">%cd	提交日期</div><div class="line">%cr	提交日期，按多久以前的方式显示</div><div class="line">%s	提交说明</div></pre></td></tr></table></figure>
<p>图形化</p>
<p>gitk<br>idea都可以</p>
<hr>
<h4 id="11-撤销操作"><a href="#11-撤销操作" class="headerlink" title="11. 撤销操作"></a>11. 撤销操作</h4><p>有时候我们提交完了才发现漏掉了几个文件没有加，或者提交信息写错了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git commit --amend</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ git commit -m &apos;initial commit&apos;</div><div class="line">$ git add forgotten_file</div><div class="line">$ git commit --amend</div></pre></td></tr></table></figure>
<p>取消已经暂存的文件</p>
<p>我们想要分开提交，但不小心用git add . 全加到了暂存区域。该如何撤消暂存其中的一个文件呢？其实，git status 的命令输出已经告诉了我们该怎么做：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">$ git add .</div><div class="line">$ git status</div><div class="line"># On branch master</div><div class="line"># Changes to be committed:</div><div class="line">#   (use &quot;git reset HEAD </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     ...&quot; to unstage)</div><div class="line">#</div><div class="line">#       modified:   README.txt</div><div class="line">#       modified:   benchmarks.rb</div><div class="line">#</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line">$ git reset HEAD benchmarks.rb</div><div class="line">benchmarks.rb: locally modified</div><div class="line">$ git status</div><div class="line"># On branch master</div><div class="line"># Changes to be committed:</div><div class="line">#   (use &quot;git reset HEAD </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     ...&quot; to unstage)</div><div class="line">#</div><div class="line">#       modified:   README.txt</div><div class="line">#</div><div class="line"># Changed but not updated:</div><div class="line">#   (use &quot;git add </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">      </div><div class="line">      </div><div class="line">      </div><div class="line">      </div><div class="line">      ...&quot; to update what will be committed)</div><div class="line">#   (use &quot;git checkout -- </div><div class="line">      </div><div class="line">      </div><div class="line">      </div><div class="line">      </div><div class="line">      </div><div class="line">       </div><div class="line">       </div><div class="line">       </div><div class="line">       </div><div class="line">       ...&quot; to discard changes in working directory)</div><div class="line">#</div><div class="line">#       modified:   benchmarks.rb</div><div class="line">#</div></pre></td></tr></table></figure>
<p>如果觉得刚才对 benchmarks.rb 的修改完全没有必要，该如何取消修改，回到之前的状态（也就是修改之前的版本）呢？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"># Changed but not updated:</div><div class="line">#   (use &quot;git add </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     ...&quot; to update what will be committed)</div><div class="line">#   (use &quot;git checkout -- </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">      </div><div class="line">      </div><div class="line">      </div><div class="line">      </div><div class="line">      ...&quot; to discard changes in working directory)</div><div class="line">#</div><div class="line">#       modified:   benchmarks.rb</div><div class="line">#</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">$ git checkout -- benchmarks.rb</div><div class="line">$ git status</div><div class="line"># On branch master</div><div class="line"># Changes to be committed:</div><div class="line">#   (use &quot;git reset HEAD </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     ...&quot; to unstage)</div><div class="line">#</div><div class="line">#       modified:   README.txt</div><div class="line">#</div></pre></td></tr></table></figure>
<p>可以看到，该文件已经恢复到修改前的版本。</p>
<p>撤销commit</p>
<p>如果不小心commit了一个不需要commit的文件，可以对其进行撤销。</p>
<ol>
<li>先使用git log 查看 commit日志<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">commit 422bc088a7d6c5429f1d0760d008d86c505f4abe  </div><div class="line">Author: zhyq0826 &lt;zhyq0826@gmail.com&gt;  </div><div class="line">Date:   Tue Sep 4 18:19:23 2012 +0800  </div><div class="line">  </div><div class="line">    删除最近搜索数目限制  </div><div class="line">  </div><div class="line">commit 8da0fd772c3acabd6e21e85287bdcfcfe8e74c85  </div><div class="line">Merge: 461ac36 0283074  </div><div class="line">Author: zhyq0826 &lt;zhyq0826@gmail.com&gt;  </div><div class="line">Date:   Tue Sep 4 18:16:09 2012 +0800</div></pre></td></tr></table></figure>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">git reset --hard commit_id </div><div class="line"></div><div class="line"></div><div class="line">git push origin HEAD --force</div></pre></td></tr></table></figure>
<hr>
<h4 id="12-远程仓库"><a href="#12-远程仓库" class="headerlink" title="12. 远程仓库"></a>12. 远程仓库</h4><p>要查看当前配置有哪些远程仓库，可以用 git remote 命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$ git clone git://github.com/schacon/ticgit.git</div><div class="line">Initialized empty Git repository in /private/tmp/ticgit/.git/</div><div class="line">remote: Counting objects: 595, done.</div><div class="line">remote: Compressing objects: 100% (269/269), done.</div><div class="line">remote: Total 595 (delta 255), reused 589 (delta 253)</div><div class="line">Receiving objects: 100% (595/595), 73.31 KiB | 1 KiB/s, done.</div><div class="line">Resolving deltas: 100% (255/255), done.</div><div class="line">$ cd ticgit</div><div class="line">$ git remote</div><div class="line">origin</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ git remote -v</div><div class="line">bakkdoor  git://github.com/bakkdoor/grit.git</div><div class="line">cho45     git://github.com/cho45/grit.git</div><div class="line">defunkt   git://github.com/defunkt/grit.git</div><div class="line">koke      git://github.com/koke/grit.git</div><div class="line">origin    git@github.com:mojombo/grit.git</div></pre></td></tr></table></figure>
<p>添加远程仓库<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ git remote</div><div class="line">origin</div><div class="line">$ git remote add pb git://github.com/paulboone/ticgit.git</div><div class="line">$ git remote -v</div><div class="line">origin	git://github.com/schacon/ticgit.git</div><div class="line">pb	git://github.com/paulboone/ticgit.git</div></pre></td></tr></table></figure></p>
<p>但本地仓库没有的信息，可以运行 git fetch pb：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">$ git fetch pb</div><div class="line">remote: Counting objects: 58, done.</div><div class="line">remote: Compressing objects: 100% (41/41), done.</div><div class="line">remote: Total 44 (delta 24), reused 1 (delta 0)</div><div class="line">Unpacking objects: 100% (44/44), done.</div><div class="line">From git://github.com/paulboone/ticgit</div><div class="line"> * [new branch]      master     -&gt; pb/master</div><div class="line"> * [new branch]      ticgit     -&gt; pb/ticgit</div></pre></td></tr></table></figure></p>
<p>如果是克隆了一个仓库，此命令会自动将远程仓库归于 origin 名下。所以，git fetch origin 会抓取从你上次克隆以来别人上传到此远程仓库中的所有更新</p>
<p>如果设置了某个分支用于跟踪某个远端仓库的分支（详见中级篇），可以使用 git pull 命令自动抓取数据下来，然后将远端分支自动合并到本地仓库中当前分支。</p>
<p>上传数据到远程仓库<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git push origin master</div></pre></td></tr></table></figure></p>
<p>查看远程仓库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">$ git remote show origin</div><div class="line">* remote origin</div><div class="line">  URL: git://github.com/schacon/ticgit.git</div><div class="line">  Remote branch merged with &apos;git pull&apos; while on branch master</div><div class="line">    master</div><div class="line">  Tracked remote branches</div><div class="line">    master</div><div class="line">    ticgit</div></pre></td></tr></table></figure>
<p>远程仓重命名以及删除</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">$ git remote rename pb paul</div><div class="line">$ git remote</div><div class="line">origin</div><div class="line">paul</div><div class="line"></div><div class="line"></div><div class="line">$ git remote rm paul</div><div class="line">$ git remote</div><div class="line">origin</div></pre></td></tr></table></figure>
<hr>
<h4 id="13-打标签"><a href="#13-打标签" class="headerlink" title="13. 打标签"></a>13. 打标签</h4><p>查看已有标签<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ git tag</div><div class="line">v0.1</div><div class="line">v1.3</div></pre></td></tr></table></figure></p>
<p>新建标签<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">$ git tag -a v1.4 -m &apos;my version 1.4&apos;</div><div class="line">$ git tag</div><div class="line">v0.1</div><div class="line">v1.3</div><div class="line">v1.4</div><div class="line"></div><div class="line"></div><div class="line">$ git show v1.4</div><div class="line">tag v1.4</div><div class="line">Tagger: Scott Chacon </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">Date:   Mon Feb 9 14:45:11 2009 -0800</div><div class="line"></div><div class="line">my version 1.4</div><div class="line">commit 15027957951b64cf874c3557a0f3547bd83b3ff6</div><div class="line">Merge: 4a447f7... a6b4c97...</div><div class="line">Author: Scott Chacon </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">      </div><div class="line">      </div><div class="line">      </div><div class="line">      </div><div class="line">      </div><div class="line">Date:   Sun Feb 8 19:02:46 2009 -0800</div><div class="line"></div><div class="line">    Merge branch &apos;experiment&apos;</div></pre></td></tr></table></figure></p>
<p>签署标签</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">$ git tag -s v1.5 -m &apos;my signed 1.5 tag&apos;</div><div class="line">You need a passphrase to unlock the secret key for</div><div class="line">user: &quot;Scott Chacon </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     </div><div class="line">     &quot;</div><div class="line">1024-bit DSA key, ID F721C45A, created 2009-02-09</div></pre></td></tr></table></figure>
<p>分享标签<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$ git push origin v1.5</div><div class="line">Counting objects: 50, done.</div><div class="line">Compressing objects: 100% (38/38), done.</div><div class="line">Writing objects: 100% (44/44), 4.56 KiB, done.</div><div class="line">Total 44 (delta 18), reused 8 (delta 1)</div><div class="line">To git@github.com:schacon/simplegit.git</div><div class="line">* [new tag]         v1.5 -&gt; v1.5</div></pre></td></tr></table></figure></p>

  </section>

  <section class="post-comments">

    <!-- 将评论系统（例如Disqus、多说、友言、畅言等）提供的代码片段粘贴在这里 -->
    
</section>


</article>


            <footer class="footer">

    <span class="footer__copyright">&copy; 2014-2015. | 由<a href="https://hexo.io/">Hexo</a>强力驱动 | 主题<a href="https://github.com/someus/huno">Huno</a></span>
    
</footer>
        </div>
    </div>

    <!-- js files -->
    <script src="/js/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/scale.fix.js"></script>
    

    

    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript"> 
        $(document).ready(function(){
            MathJax.Hub.Config({ 
                tex2jax: {inlineMath: [['[latex]','[/latex]'], ['\\(','\\)']]} 
            });
        });
    </script>


    

    <script src="/js/awesome-toc.min.js"></script>
    <script>
        $(document).ready(function(){
            $.awesome_toc({
                overlay: true,
                contentId: "post-content",
            });
        });
    </script>


    
    
    <!--kill ie6 -->
<!--[if IE 6]>
  <script src="//letskillie6.googlecode.com/svn/trunk/2/zh_CN.js"></script>
<![endif]-->

</body>
</html>
